# 전깃줄

[백준 2565번: 전깃줄](https://www.acmicpc.net/problem/2565)

## 문제 파악하기

두 전봇대 A, B 사이에 전깃줄이 연결되어 있을 때, **교차하는 전깃줄이 없도록 제거해야 할 최소 전깃줄 수**를 구하는 문제입니다.

### 핵심 관찰

전깃줄이 교차하지 않으려면?
- A 전봇대 기준으로 정렬했을 때
- B 전봇대 연결점도 **증가하는 순서**여야 함

> [!NOTE] > A 기준 정렬 후 B 값들에서 **LIS(가장 긴 증가하는 부분 수열)**를 찾으면 됩니다!
> 제거할 전깃줄 수 = 전체 - LIS 길이

## 풀이

### 1. 정렬

```javascript
const lines = input
  .slice(1)
  .map((item) => item.split(" ").map(Number))
  .sort((a, b) => a[0] - b[0]);
```

A 전봇대 위치 기준으로 오름차순 정렬합니다.

### 2. LIS (DP)

```javascript
const dp = Array.from({ length: N }, () => 1);
for (let i = 1; i < N; i++) {
  for (let j = 0; j < i; j++) {
    if (lines[i][1] > lines[j][1]) {
      dp[i] = Math.max(dp[i], dp[j] + 1);
    }
  }
}
```

- `dp[i]`: i번째 전깃줄을 마지막으로 하는 LIS 길이
- B 값이 증가하는 경우에만 이전 값에서 +1

### 3. 결과 계산

```javascript
console.log(N - Math.max(...dp));
```

> [!TIP] > **왜 LIS인가?**
>
> - 교차하지 않는 최대 전깃줄 = LIS
> - 제거할 최소 전깃줄 = 전체 - LIS

## 동작 예시

```
입력:
1-8, 2-2, 3-9, 4-1, 6-4, 7-6, 9-7, 10-10

A 기준 정렬 후 B 값: [8, 2, 9, 1, 4, 6, 7, 10]

LIS: [2, 4, 6, 7, 10] 또는 [1, 4, 6, 7, 10] → 길이 5
제거할 전깃줄: 8 - 5 = 3
```

## 핵심 정리

| 단계         | 동작                       |
| ------------ | -------------------------- |
| A 기준 정렬  | 한 쪽 기준을 고정          |
| B 값에서 LIS | 교차 없는 최대 전깃줄 수   |
| 전체 - LIS   | 제거해야 할 최소 전깃줄 수 |

### 왜 교차 = B값 역전인가?

```
A: 1 ─────── 8 :B
A: 2 ── 2 :B
```

A에서 1 < 2인데 B에서 8 > 2이면 교차!
→ A 정렬 후 B도 증가해야 교차 없음

### 시간 복잡도

- 정렬: O(N log N)
- LIS (O(N²) DP): O(N²)
- **총: O(N²)**
