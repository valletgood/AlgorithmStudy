## 문제

https://www.acmicpc.net/problem/1238

### 문제 파악하기

위 문제는 백준 알고리즘 1238 파티 문제이다.

N명의 학생이 X번 마을에서 열리는 파티에 갔다가 집으로 돌아온다. 각 학생의 왕복 시간 중 **가장 오래 걸리는 학생의 시간**을 구하는 문제다.

> [!NOTE] > **역방향 그래프 활용**: 단방향 그래프에서 "모든 노드 → X"의 최단 거리를 효율적으로 구하는 방법
>
> - 정방향 그래프에서 다익스트라: X → 모든 노드 (파티 → 집)
> - 역방향 그래프에서 다익스트라: X → 모든 노드 (집 → 파티)
>
> **왜 역방향?**
>
> - 간선 방향을 뒤집으면 "A → B" 경로가 "B → A" 경로가 됨
> - X에서 시작하는 다익스트라 1번으로 모든 노드 → X 거리를 구할 수 있음

## 풀이

### 1. 정방향 + 역방향 그래프 구성

```javascript
const graph = Array.from({ length: N + 1 }, () => []);
const reverse = Array.from({ length: N + 1 }, () => []);
for (let i = 0; i < M; i++) {
  const [start, end, cost] = lines[i];
  graph[start].push([end, cost]); // 정방향
  reverse[end].push([start, cost]); // 역방향
}
```

- `graph`: 정방향 그래프 (X → i = 파티에서 집으로)
- `reverse`: 역방향 그래프 (X → i = 집에서 파티로)

### 2. 다익스트라 2번 실행

```javascript
const going = dijkstra(graph, X); // X에서 모든 노드까지 (파티 → 집)
const back = dijkstra(reverse, X); // 역방향에서 X 출발 (집 → 파티)
```

> [!TIP] > **다익스트라 2번으로 해결!**
>
> - 단순 접근: 각 학생마다 다익스트라 실행 → O(N × (N+M)logN)
> - 역방향 그래프 활용: 다익스트라 2번 → O(2 × (N+M)logN)
>
> 역방향 그래프에서 X → i 거리 = 정방향 그래프에서 i → X 거리

### 3. 최대 왕복 시간 계산

```javascript
let answer = 0;
for (let i = 1; i <= N; i++) {
  answer = Math.max(answer, going[i] + back[i]);
}
console.log(answer);
```

- `going[i]`: X → i 거리 (파티에서 집으로)
- `back[i]`: i → X 거리 (집에서 파티로) - 역방향 그래프 이용
- 왕복 시간 = going[i] + back[i]

### 4. 예시

```
N = 4, M = 8, X = 2
간선: 1→2(4), 1→3(2), 1→4(7), 2→1(1), 2→3(5), 3→1(2), 3→4(4), 4→2(3)

정방향 다익스트라 (X=2에서 시작):
- 2→1: 1, 2→3: 5, 2→4: 8

역방향 다익스트라 (X=2에서 시작):
- 1→2: 4, 3→2: 7, 4→2: 3

왕복 시간:
- 학생 1: 4 + 1 = 5
- 학생 2: 0 + 0 = 0 (파티 장소)
- 학생 3: 7 + 5 = 12
- 학생 4: 3 + 8 = 11

최대: 12 (학생 3)
```

### 5. 시간 복잡도

- O((N + M) log N): 다익스트라 2번 실행
